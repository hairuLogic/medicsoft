/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2013 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 2.3.36
*/
(function(c){void 0==c.fn.inputmask&&(c.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:c.noop,onincomplete:c.noop,oncleared:c.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:c.noop,onKeyDown:c.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:c.noop,skipOptionalPartCharacter:" ",showTooltip:!1,
numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(c,A,B,G){var C=c.length;A||("*"==B?C=G.length+1:1<B&&(C+=c.length*(B-1)));return C}},escapeRegex:function(c){return c.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},c.fn.inputmask=function(z,
A){function B(b){var c=document.createElement("input"),b="on"+b,a=b in c;a||(c.setAttribute(b,"return;"),a="function"==typeof c[b]);return a}function G(e,f){var a=b.aliases[e];return a?(a.alias&&G(a.alias),c.extend(!0,b,a),c.extend(!0,b,f),!0):!1}function C(e){b.numericInput&&(e=e.split("").reverse().join(""));var f=!1,a=0,h=b.greedy,j=b.repeat;"*"==j&&(h=!1);!0==h&&""==b.placeholder&&(b.placeholder=" ");1==e.length&&!1==h&&(b.placeholder="");for(var e=c.map(e.split(""),function(c){var g=[];if(c==
b.escapeChar)f=true;else if(c!=b.optionalmarker.start&&c!=b.optionalmarker.end||f){var j=b.definitions[c];if(j&&!f)for(c=0;c<j.cardinality;c++)g.push(M(a+c));else{g.push(c);f=false}a=a+g.length;return g}}),g=e.slice(),V=1;V<j&&h;V++)g=g.concat(e.slice());return{mask:g,repeat:j,greedy:h}}function K(e){b.numericInput&&(e=e.split("").reverse().join(""));var f=!1,a=!1,h=!1;return c.map(e.split(""),function(c){var g=[];if(c==b.escapeChar)a=!0;else if(c==b.optionalmarker.start&&!a)h=f=!0;else if(c==b.optionalmarker.end&&
!a)f=!1,h=!0;else{var e=b.definitions[c];if(e&&!a){for(var r=e.prevalidator,q=r?r.length:0,d=1;d<e.cardinality;d++){var p=q>=d?r[d-1]:[],v=p.validator,p=p.cardinality;g.push({fn:v?"string"==typeof v?RegExp(v):new function(){this.test=v}:/./,cardinality:p?p:1,optionality:f,newBlockMarker:!0==f?h:!1,offset:0,casing:e.casing,def:e.definitionSymbol|c});!0==f&&(h=!1)}g.push({fn:e.validator?"string"==typeof e.validator?RegExp(e.validator):new function(){this.test=e.validator}:/./,cardinality:e.cardinality,
optionality:f,newBlockMarker:h,offset:0,casing:e.casing,def:e.definitionSymbol|c})}else g.push({fn:null,cardinality:0,optionality:f,newBlockMarker:h,offset:0,casing:null,def:c}),a=!1;h=!1;return g}})}function J(){function e(a){var c=a.length;for(i=0;i<c&&a.charAt(i)!=b.optionalmarker.start;i++);var e=[a.substring(0,i)];i<c&&e.push(a.substring(i+1,c));return e}function f(j,g,o){var r=0,q=0,d=g.length;for(i=0;i<d&&!(g.charAt(i)==b.optionalmarker.start&&r++,g.charAt(i)==b.optionalmarker.end&&q++,0<r&&
r==q);i++);r=[g.substring(0,i)];i<d&&r.push(g.substring(i+1,d));q=e(r[0]);if(1<q.length){if(g=j+q[0]+(b.optionalmarker.start+q[1]+b.optionalmarker.end)+(1<r.length?r[1]:""),-1==c.inArray(g,h)&&(h.push(g),d=C(g),a.push({mask:g,_buffer:d.mask,buffer:d.mask.slice(),tests:K(g),lastValidPosition:void 0,greedy:d.greedy,repeat:d.repeat,metadata:o})),g=j+q[0]+(1<r.length?r[1]:""),-1==c.inArray(g,h)&&(h.push(g),d=C(g),a.push({mask:g,_buffer:d.mask,buffer:d.mask.slice(),tests:K(g),lastValidPosition:void 0,
greedy:d.greedy,repeat:d.repeat,metadata:o})),1<e(q[1]).length&&f(j+q[0],q[1]+r[1],o),1<r.length&&1<e(r[1]).length)f(j+q[0]+(b.optionalmarker.start+q[1]+b.optionalmarker.end),r[1],o),f(j+q[0],r[1],o)}else g=j+r,-1==c.inArray(g,h)&&(h.push(g),d=C(g),a.push({mask:g,_buffer:d.mask,buffer:d.mask.slice(),tests:K(g),lastValidPosition:void 0,greedy:d.greedy,repeat:d.repeat,metadata:o}))}var a=[],h=[];c.isFunction(b.mask)&&(b.mask=b.mask.call(this,b));c.isArray(b.mask)?c.each(b.mask,function(b,a){a.mask!=
void 0?f("",a.mask.toString(),a):f("",a.toString())}):f("",b.mask.toString());return b.greedy?a:a.sort(function(b,a){return b.mask.length-a.mask.length})}function M(c){return b.placeholder.charAt(c%b.placeholder.length)}function E(e,f){function a(){return e[f]}function h(){return a().tests}function j(){return a()._buffer}function g(){return a().buffer}function o(m,x,Q){function H(a,c,m,g){for(var n=d(a),x=m?1:0,t="",e=c.buffer,k=c.tests[n].cardinality;k>x;k--)t+=I(e,n-(k-1));m&&(t+=m);return null!=
c.tests[n].fn?c.tests[n].fn.test(t,e,a,g,b):m==I(j(),a,!0)||m==b.skipOptionalPartCharacter?{refresh:!0,c:I(j(),a,!0),pos:a}:!1}if(Q=!0===Q){var D=H(m,a(),x,Q);!0===D&&(D={pos:m});return D}var h=[],D=!1,r=f,s=g().slice(),l=a().lastValidPosition,y=w(m),B=[];c.each(e,function(b,c){if("object"==typeof c){f=b;var j=m;if(r!=f){var d=a().lastValidPosition,n;if(d==l&&1<j-(void 0==l?-1:l))for(d=void 0==d?0:d;d<j&&!(n=H(d,a(),s[d],!0),!1===n);d++)if(z(g(),d,s[d],!0),!0===n&&(n={pos:d}),n=n.pos||d,void 0==a().lastValidPosition||
a().lastValidPosition<n)a().lastValidPosition=n;!q(j)&&a().lastValidPosition==y&&(!H(j,a(),x,Q)&&e[r].lastValidPosition<j)&&(j=v(m),B.push(f))}if((void 0==a().lastValidPosition&&j==v(-1)||a().lastValidPosition>=(void 0==l?e[r].lastValidPosition-1:l))&&0<=j&&j<p()){D=H(j,a(),x,Q);if(!1!==D&&(!0===D&&(D={pos:j}),n=D.pos||j,void 0==a().lastValidPosition||a().lastValidPosition<n))a().lastValidPosition=n;h.push({activeMasksetIndex:b,result:D})}}});f=r;return function(b,a){var m=!1;c.each(a,function(a,
n){if(m=-1==c.inArray(n.activeMasksetIndex,b)&&!1!==n.result)return!1});m&&(a=c.map(a,function(a){if(-1==c.inArray(a.activeMasksetIndex,b))return a;e[a.activeMasksetIndex].lastValidPosition=l}));return a}(B,h)}function r(){var b=f,x={activeMasksetIndex:0,lastValidPosition:-1};c.each(e,function(a,b){"object"==typeof b&&(void 0!=this.lastValidPosition&&this.lastValidPosition>x.lastValidPosition)&&(x.activeMasksetIndex=a,x.lastValidPosition=this.lastValidPosition)});f=x.activeMasksetIndex;b!=f&&(G(g(),
v(x.lastValidPosition),p()),a().writeOutBuffer=!0)}function q(a){a=d(a);a=h()[a];return void 0!=a?a.fn:!1}function d(a){return a%h().length}function p(){return b.getMaskLength(j(),a().greedy,a().repeat,g(),b)}function v(a){var b=p();if(a>=b)return b;for(;++a<b&&!q(a););return a}function w(a){if(0>=a)return 0;for(;0<--a&&!q(a););return a}function z(a,b,c,g){g&&(b=C(a,b));var g=h()[d(b)],e=c;if(void 0!=e)switch(g.casing){case "upper":e=c.toUpperCase();break;case "lower":e=c.toLowerCase()}a[b]=e}function I(a,
b,c){c&&(b=C(a,b));return a[b]}function C(a,b){for(var c;void 0==a[b]&&a.length<p();)for(c=0;void 0!==j()[c];)a.push(j()[c++]);return b}function y(a,b,c){a._valueSet(b.join(""));void 0!=c&&s(a,c)}function G(a,b,c){for(var g=p();b<c&&b<g;b++)z(a,b,I(j().slice(),b,!0))}function A(a,b){var c=d(b);z(a,b,I(j(),c))}function B(b,g,d,h){h=void 0!=h?h.slice():K(b._valueGet()).split("");c.each(e,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=void 0,b.p=0)});!0!==d&&(f=0);
g&&b._valueSet("");p();c.each(h,function(e,f){var h=a().lastValidPosition,p=a().p,p=void 0==h?e:p,h=void 0==h?-1:h;(d&&q(e)||(f!=I(j().slice(),e,!0)||q(e))&&-1==c.inArray(f,j().slice(h+1,p)))&&c(b).trigger("keypress",[!0,f.charCodeAt(0),g,d,e])});!0===d&&(a().lastValidPosition=w(a().p))}function E(a){return c.inputmask.escapeRegex.call(this,a)}function K(a){return a.replace(RegExp("("+E(j().join(""))+")*$"),"")}function J(a){var b=g(),c=b.slice(),e,f;for(f=c.length-1;0<=f;f--)if(e=d(f),h()[e].optionality)if(!q(f)||
!o(f,b[f],!0))c.pop();else break;else break;y(a,c)}function U(a,b){return h()&&(!0===b||!a.hasClass("hasDatepicker"))?c.map(g(),function(a,b){return q(b)&&o(b,a,!0)?a:null}).join(""):a[0]._valueGet()}function s(a,e,f){function j(a){F&&"number"==typeof a&&(a=g().length-a);return a}var d=a.jquery&&0<a.length?a[0]:a;if("number"==typeof e)e=j(e),f=j(f),c(a).is(":visible")&&(f="number"==typeof f?f:e,!1==b.insertMode&&e==f&&f++,d.setSelectionRange?(d.selectionStart=e,d.selectionEnd=R?e:f):d.createTextRange&&
(a=d.createTextRange(),a.collapse(!0),a.moveEnd("character",f),a.moveStart("character",e),a.select()));else{if(!c(a).is(":visible"))return{begin:0,end:0};d.setSelectionRange?(e=d.selectionStart,f=d.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1E5),f=e+a.text.length);e=j(e);f=j(f);return{begin:e,end:f}}}function S(a){var b=!1,g=0,h=f;c.each(e,function(c,e){if("object"==typeof e){f=c;var h=w(p());if(void 0!=
e.lastValidPosition&&e.lastValidPosition>=g&&e.lastValidPosition==h){for(var o=!0,l=0;l<=h;l++){var r=q(l),s=d(l);if(r&&(void 0==a[l]||a[l]==M(l))||!r&&a[l]!=j()[s]){o=!1;break}}if(b=b||o)return!1}g=e.lastValidPosition}});f=h;return b}function Z(a,c){return F?1<a-c||1==a-c&&b.insertMode:1<c-a||1==c-a&&b.insertMode}var F=!1,P=g().join("");this.unmaskedvalue=function(a,b){F=a.data("_inputmask").isRTL;return U(a,b)};this.isComplete=function(a){return S(a)};this.mask=function(m){function x(a){a=c._data(a).events;
c.each(a,function(a,b){c.each(b,function(a,b){if("inputmask"==b.namespace){var c=b.handler;b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function C(a){var b;Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(a,"value"));if(b&&b.get){if(!a._valueGet){var e=b.get,g=b.set;a._valueGet=function(){return F?e.call(this).split("").reverse().join(""):e.call(this)};a._valueSet=function(a){g.call(this,F?a.split("").reverse().join(""):
a)};Object.defineProperty(a,"value",{get:function(){var a=c(this),b=c(this).data("_inputmask"),g=b.masksets,n=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=g[n]._buffer.join("")?e.call(this):""},set:function(a){g.call(this,a);c(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&a.__lookupGetter__("value"))a._valueGet||(e=a.__lookupGetter__("value"),g=a.__lookupSetter__("value"),a._valueGet=function(){return F?e.call(this).split("").reverse().join(""):
e.call(this)},a._valueSet=function(a){g.call(this,F?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=c(this),b=c(this).data("_inputmask"),g=b.masksets,n=b.activeMasksetIndex;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=g[n]._buffer.join("")?e.call(this):""}),a.__defineSetter__("value",function(a){g.call(this,a);c(this).triggerHandler("setvalue.inputmask")}));else if(a._valueGet||(a._valueGet=function(){return F?this.value.split("").reverse().join(""):
this.value},a._valueSet=function(a){this.value=F?a.split("").reverse().join(""):a}),void 0==c.valHooks.text||!0!=c.valHooks.text.inputmaskpatch)e=c.valHooks.text&&c.valHooks.text.get?c.valHooks.text.get:function(){return this.value},g=c.valHooks.text&&c.valHooks.text.set?c.valHooks.text.set:function(a){return this.value=a},jQuery.extend(c.valHooks,{text:{get:function(a){var b=c(a);if(b.data("_inputmask")){if(b.data("_inputmask").opts.autoUnmask)return b.inputmask("unmaskedvalue");a=e.call(a);b=b.data("_inputmask");
return a!=b.masksets[b.activeMasksetIndex]._buffer.join("")?a:""}return e.call(a)},set:function(a,b){var e=c(a),n=g.call(a,b);e.data("_inputmask")&&e.triggerHandler("setvalue.inputmask");return n},inputmaskpatch:!0}})}function H(b,c,e){for(var f=g();!q(b)&&0<=b-1;)b--;for(var k=b;k<c&&k<p();k++)if(q(k)){A(f,k);var O=v(k),l=I(f,O);if(l!=M(O))if(O<p()&&!1!==o(k,l,!0)&&h()[d(k)].def==h()[d(O)].def)z(f,k,I(f,O),!0),O<c&&A(f,O);else if(q(k))break}else A(f,k);void 0!=e&&z(f,w(c),e);if(!1==a().greedy){c=
K(f.join("")).split("");f.length=c.length;k=0;for(e=f.length;k<e;k++)f[k]=c[k];0==f.length&&(a().buffer=j().slice())}return b}function D(b,c,e,f){for(var k=g();b<=c&&b<p();b++)if(q(b)){var l=I(k,b,!0);z(k,b,e,!0);if(l!=M(b))if(e=v(b),e<p())if(!1!==o(e,l,!0)&&h()[d(b)].def==h()[d(e)].def)e=l;else if(q(e))break;else e=l;else break;else if(e=l,!0!==f)break}else A(k,b);f=k.length;if(!1==a().greedy){e=K(k.join("")).split("");k.length=e.length;b=0;for(l=k.length;b<l;b++)k[b]=e[b];0==k.length&&(a().buffer=
j().slice())}return c-(f-k.length)}function E(n){T=!1;var d=this,t=n.keyCode,h=s(d);if(t==b.keyCode.BACKSPACE||t==b.keyCode.DELETE||aa&&127==t||n.ctrlKey&&88==t){n.preventDefault();if(b.numericInput||F)switch(t){case b.keyCode.BACKSPACE:t=b.keyCode.DELETE;break;case b.keyCode.DELETE:t=b.keyCode.BACKSPACE}if(Z(h.begin,h.end)){if(F){var k=h.end;h.end=h.begin;h.begin=k}G(g(),h.begin,h.end);if(0==h.begin&&h.end==p())c.each(e,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=
void 0,b.p=0)});else{k=p();if(!1==b.greedy)H(h.begin,k);else for(var o=h.begin;o<h.end;o++)q(o)&&H(h.begin,k);B(d,!1,!0,g())}}else c.each(e,function(c,e){if("object"==typeof e){f=c;var d=$?h.end:h.begin,n=g(),k=v(-1),l=p();if(t==b.keyCode.DELETE)d<k&&(d=k),d<l&&(b.isNumeric&&(""!=b.radixPoint&&n[d]==b.radixPoint)&&(d=n.length-1==d?d:v(d)),d=H(d,l),void 0!=a().lastValidPosition&&(-1!=a().lastValidPosition&&g()[a().lastValidPosition]==j()[a().lastValidPosition]&&(a().lastValidPosition=0==a().lastValidPosition?
-1:w(a().lastValidPosition)),a().lastValidPosition<k?(a().lastValidPosition=void 0,a().p=k):(a().writeOutBuffer=!0,a().p=d)));else if(t==b.keyCode.BACKSPACE)if(d>k){if(d-=1,b.isNumeric&&""!=b.radixPoint&&n[d]==b.radixPoint?(d=D(0,n.length-1==d?d:d-1,M(d),!0),d++):d=H(d,l),void 0!=a().lastValidPosition)-1!=a().lastValidPosition&&g()[a().lastValidPosition]==j()[a().lastValidPosition]&&(a().lastValidPosition=0==a().lastValidPosition?-1:w(a().lastValidPosition)),a().lastValidPosition<k?(a().lastValidPosition=
void 0,a().p=k):(a().writeOutBuffer=!0,a().p=d)}else 0<f&&(a().lastValidPosition=void 0,a().writeOutBuffer=!0,a().p=k,f=0,a().buffer=j().slice(),a().p=v(-1),a().lastValidPosition=void 0)}});r();y(d,g(),a().p);d._valueGet()==j().join("")&&c(d).trigger("cleared");b.showTooltip&&l.prop("title",a().mask)}else t==b.keyCode.END||t==b.keyCode.PAGE_DOWN?setTimeout(function(){var c=v(a().lastValidPosition);!b.insertMode&&(c==p()&&!n.shiftKey)&&c--;s(d,n.shiftKey?h.begin:c,c)},0):t==b.keyCode.HOME&&!n.shiftKey||
t==b.keyCode.PAGE_UP?s(d,0,n.shiftKey?h.begin:0):t==b.keyCode.ESCAPE?B(d,!0,!0,P):t==b.keyCode.INSERT&&!n.shiftKey&&!n.ctrlKey?(b.insertMode=!b.insertMode,s(d,!b.insertMode&&h.begin==p()?h.begin-1:h.begin)):!1==b.insertMode&&!n.shiftKey&&(t==b.keyCode.RIGHT?setTimeout(function(){var a=s(d);s(d,a.begin)},0):t==b.keyCode.LEFT&&setTimeout(function(){var a=s(d);s(d,a.begin-1)},0));k=s(d);b.onKeyDown.call(this,n,g(),b);s(d,k.begin,k.end);W=-1!=c.inArray(t,b.ignorables)}function R(d,h,j,l,k,m){if(void 0==
j&&T)return!1;T=!0;var C=c(this),d=d||window.event,j=j||d.which||d.charCode||d.keyCode,x=String.fromCharCode(j);if((!d.ctrlKey||!d.altKey)&&(d.ctrlKey||d.metaKey||W)&&!0!==h)return!0;if(j){var u,A;h?(j=k?m:a().p,u={begin:j,end:j}):u=s(this);var j=Z(u.begin,u.end),E=!1;j&&(F&&(m=u.end,u.end=u.begin,u.begin=m),m=f,c.each(e,function(c,e){if(typeof e=="object"){f=c;a().undoBuffer=g().join("");var d=u.end<p()?u.end:p();a().lastValidPosition>u.begin&&a().lastValidPosition<d?a().lastValidPosition=w(u.begin):
E=true;G(g(),u.begin,d);var h=p();if(b.greedy==false)H(u.begin,h);else for(var j=u.begin;j<d;j++)q(j)&&H(u.begin,h)}}),!0===E&&(f=m,B(this,!1,!0,g()),b.insertMode||c.each(e,function(b,c){if(typeof c=="object"){f=b;D(u.begin,p(),M(u.begin),true);a().lastValidPosition=v(a().lastValidPosition)}})),f=m);b.isNumeric&&(x==b.radixPoint&&!0!==h)&&(m=g().join("").indexOf(b.radixPoint),-1!=m&&(u.begin=u.begin==m?v(m):m,u.end=u.begin,s(this,u.begin)));var L=v(u.begin-1),m=o(L,x,k);!0===k&&(m=[{activeMasksetIndex:f,
result:m}]);c.each(m,function(c,e){f=e.activeMasksetIndex;a().writeOutBuffer=true;var d=e.result;if(d!==false){var h=false,j=g();if(d!==true){h=d.refresh;L=d.pos!=void 0?d.pos:L;x=d.c!=void 0?d.c:x}if(h!==true)if(b.insertMode==true){d=p();for(h=j.slice();I(h,d,true)!=M(d)&&d>=L;)d=d==0?-1:w(d);if(d>=L){D(L,j.length,x);j=a().lastValidPosition;d=v(j);d!=p()&&(j>=L&&I(g(),d)!=M(d))&&(a().lastValidPosition=d)}else a().writeOutBuffer=false}else z(j,L,x,true);a().p=v(L)}});!0!==k&&r();if(!1!==l&&(c.each(m,
function(a,b){if(b.activeMasksetIndex==f){A=b;return false}}),void 0!=A)){var K=this;setTimeout(function(){b.onKeyValidation.call(K,A.result,b)},0);if(a().writeOutBuffer&&!1!==A.result){var J=g();y(this,J,h?void 0:b.numericInput?w(a().p):a().p);!0!==h&&setTimeout(function(){S(J)&&C.trigger("complete")},0)}else j&&(a().buffer=a().undoBuffer.split(""))}b.showTooltip&&C.prop("title",a().mask);d.preventDefault()}}function U(a){var e=c(this),d=a.keyCode,f=g(),h=s(this);b.onKeyUp.call(this,a,f,b);s(this,
h.begin,h.end);d==b.keyCode.TAB&&(e.hasClass("focus.inputmask")&&0==this._valueGet().length&&b.showMaskOnFocus)&&(f=j().slice(),y(this,f),s(this,0),P=g().join(""))}var l=c(m);if(l.is(":input")){l.data("_inputmask",{masksets:e,activeMasksetIndex:f,opts:b,isRTL:!1});b.showTooltip&&l.prop("title",a().mask);a().greedy=a().greedy?a().greedy:0==a().repeat;if(null!=l.attr("maxLength")){var N=l.prop("maxLength");-1<N&&c.each(e,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=N)});p()>N&&-1<N&&(N<
j().length&&(j().length=N),!1==a().greedy&&(a().repeat=Math.round(N/j().length)),l.prop("maxLength",2*p()))}C(m);var T=!1,W=!1;b.numericInput&&(b.isNumeric=b.numericInput);("rtl"==m.dir||b.numericInput&&b.rightAlignNumerics||b.isNumeric&&b.rightAlignNumerics)&&l.css("text-align","right");if("rtl"==m.dir||b.numericInput){m.dir="ltr";l.removeAttr("dir");var X=l.data("_inputmask");X.isRTL=!0;l.data("_inputmask",X);F=!0}l.unbind(".inputmask");l.removeClass("focus.inputmask");l.closest("form").bind("submit",
function(){P!=g().join("")&&l.change()}).bind("reset",function(){c.each(e,function(a,b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=-1}})});l.bind("mouseenter.inputmask",function(){!c(this).hasClass("focus.inputmask")&&b.showMaskOnHover&&this._valueGet()!=g().join("")&&y(this,g())}).bind("blur.inputmask",function(){var a=c(this),d=this._valueGet(),h=g();a.removeClass("focus.inputmask");P!=g().join("")&&a.change();b.clearMaskOnLostFocus&&d!=""&&(d==j().join("")?
this._valueSet(""):J(this));if(!S(h)){a.trigger("incomplete");if(b.clearIncomplete){c.each(e,function(a,b){if(typeof b=="object"){b.buffer=b._buffer.slice();b.lastValidPosition=void 0;b.p=0}});f=0;if(b.clearMaskOnLostFocus)this._valueSet("");else{h=j().slice();y(this,h)}}}}).bind("focus.inputmask",function(){var e=c(this),d=this._valueGet();b.showMaskOnFocus&&!e.hasClass("focus.inputmask")&&(!b.showMaskOnHover||b.showMaskOnHover&&d=="")&&this._valueGet()!=g().join("")&&y(this,g(),a().p);e.addClass("focus.inputmask");
P=g().join("");e.click()}).bind("mouseleave.inputmask",function(){var a=c(this);b.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||(this._valueGet()==j().join("")||this._valueGet()==""?this._valueSet(""):J(this)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var d=s(e),f=g();if(d.begin==d.end){var d=d.begin,h=a().lastValidPosition,h=b.isNumeric?b.skipRadixDance===false&&b.radixPoint!=""&&c.inArray(b.radixPoint,f)!=-1?b.numericInput?v(c.inArray(b.radixPoint,f)):c.inArray(b.radixPoint,
f):p():v(h==void 0?-1:h);s(e,d<h&&(o(d,f[d],true)!==false||!q(d))?d:h)}},0)}).bind("dblclick.inputmask",function(){var b=this;a().lastValidPosition!=void 0&&setTimeout(function(){s(b,0,v(a().lastValidPosition))},0)}).bind("keydown.inputmask",E).bind("keypress.inputmask",R).bind("keyup.inputmask",U).bind(ba+".inputmask dragdrop.inputmask drop.inputmask",function(a){var b=this,d=c(b);if(a.type=="propertychange"&&b._valueGet().length<=p())return true;setTimeout(function(){B(b,true,false);S(g())&&d.trigger("complete");
d.click()},0)}).bind("setvalue.inputmask",function(){B(this,true);P=g().join("");this._valueGet()==j().join("")&&this._valueSet("")}).bind("complete.inputmask",b.oncomplete).bind("incomplete.inputmask",b.onincomplete).bind("cleared.inputmask",b.oncleared);B(m,!0,!1);var Y;try{Y=document.activeElement}catch(ca){}Y===m?(l.addClass("focus.inputmask"),s(m,a().p)):b.clearMaskOnLostFocus?g().join("")==j().join("")?m._valueSet(""):J(m):y(m,g());x(m)}};return this}var b=c.extend(!0,{},c.inputmask.defaults,
A),aa=null!==navigator.userAgent.match(/iphone/i),R=null!==navigator.userAgent.match(/android.*safari.*/i),ba=B("paste")?"paste":B("input")?"input":"propertychange",$,o,w=0;if(R){var y=navigator.userAgent.match(/safari.*/i);$=537>=parseInt(RegExp(/[0-9]+/).exec(y))}if("string"===typeof z)switch(z){case "mask":return G(b.alias,A),o=J(),this.each(function(){E(c.extend(!0,{},o),0).mask(this)});case "unmaskedvalue":return y=c(this),y.data("_inputmask")?(o=y.data("_inputmask").masksets,w=y.data("_inputmask").activeMasksetIndex,
b=y.data("_inputmask").opts,E(o,w).unmaskedvalue(y)):y.val();case "remove":return this.each(function(){var e=c(this);if(e.data("_inputmask")){o=e.data("_inputmask").masksets;w=e.data("_inputmask").activeMasksetIndex;b=e.data("_inputmask").opts;this._valueSet(E(o,w).unmaskedvalue(e,!0));e.removeData("_inputmask");e.unbind(".inputmask");e.removeClass("focus.inputmask");var f;Object.getOwnPropertyDescriptor&&(f=Object.getOwnPropertyDescriptor(this,"value"));f&&f.get?this._valueGet&&Object.defineProperty(this,
"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(a){this._valueSet=this._valueGet=void 0}}});case "getemptymask":return this.data("_inputmask")?(o=this.data("_inputmask").masksets,w=this.data("_inputmask").activeMasksetIndex,o[w]._buffer.join("")):"";case "hasMaskedValue":return this.data("_inputmask")?
!this.data("_inputmask").opts.autoUnmask:!1;case "isComplete":return o=this.data("_inputmask").masksets,w=this.data("_inputmask").activeMasksetIndex,b=this.data("_inputmask").opts,E(o,w).isComplete(this[0]._valueGet().split(""));case "getmetadata":if(this.data("_inputmask"))return o=this.data("_inputmask").masksets,w=this.data("_inputmask").activeMasksetIndex,o[w].metadata;return;default:return G(z,A)||(b.mask=z),o=J(),this.each(function(){E(c.extend(true,{},o),w).mask(this)})}else{if("object"==typeof z)return b=
c.extend(!0,{},c.inputmask.defaults,z),G(b.alias,z),o=J(),this.each(function(){E(c.extend(!0,{},o),w).mask(this)});if(void 0==z)return this.each(function(){var e=c(this).attr("data-inputmask");if(e&&""!=e)try{var e=e.replace(RegExp("'","g"),'"'),f=c.parseJSON("{"+e+"}");c.extend(!0,f,A);b=c.extend(!0,{},c.inputmask.defaults,f);G(b.alias,f);b.alias=void 0;c(this).inputmask(b)}catch(a){}})}return this})})(jQuery);